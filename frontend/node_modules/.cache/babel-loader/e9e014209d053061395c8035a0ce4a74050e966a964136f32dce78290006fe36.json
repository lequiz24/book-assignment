{"ast":null,"code":"import _taggedTemplateLiteral from\"D:/REACT APPS/ello-book-assignment-view/frontend/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";var _templateObject;import React,{useState}from'react';import{useQuery,gql}from'@apollo/client';import{TextField,Typography,Grid,Box}from'@mui/material';import BookListItem from'../components/BookListItem';import ReadingListItem from'../components/ReadingListItem';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const GET_BOOKS=gql(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  query Books {\\n    books {\\n      author\\n      coverPhotoURL\\n      title\\n    }\\n  }\\n\"])));const BookAssignment=()=>{const{loading,error,data}=useQuery(GET_BOOKS);const[searchTerm,setSearchTerm]=useState('');const[readingList,setReadingList]=useState([]);if(loading)return/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"});if(error)return/*#__PURE__*/_jsx(\"p\",{children:\"Error :(\"});const handleAddBook=book=>{setReadingList([...readingList,book]);};const handleRemoveBook=title=>{setReadingList(readingList.filter(book=>book.title!==title));};const filteredBooks=data.books.filter(book=>book.title.toLowerCase().includes(searchTerm.toLowerCase()));return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(TextField,{label:\"Search for books\",variant:\"outlined\",fullWidth:true,margin:\"normal\",onChange:e=>setSearchTerm(e.target.value)}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:filteredBooks.map((book,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(BookListItem,{book:book,onAdd:()=>handleAddBook(book)})},index))}),/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"h2\",gutterBottom:true,style:{marginTop:'20px'},children:\"Reading List\"}),/*#__PURE__*/_jsx(Grid,{container:true,spacing:2,children:readingList.map((book,index)=>/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,md:3,children:/*#__PURE__*/_jsx(ReadingListItem,{book:book,onRemove:()=>handleRemoveBook(book.title)})},index))})]});};export default BookAssignment;","map":{"version":3,"names":["React","useState","useQuery","gql","TextField","Typography","Grid","Box","BookListItem","ReadingListItem","jsx","_jsx","jsxs","_jsxs","GET_BOOKS","_templateObject","_taggedTemplateLiteral","BookAssignment","loading","error","data","searchTerm","setSearchTerm","readingList","setReadingList","children","handleAddBook","book","handleRemoveBook","title","filter","filteredBooks","books","toLowerCase","includes","label","variant","fullWidth","margin","onChange","e","target","value","container","spacing","map","index","item","xs","sm","md","onAdd","component","gutterBottom","style","marginTop","onRemove"],"sources":["D:/REACT APPS/ello-book-assignment-view/frontend/src/pages/BookAssignment.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useQuery, gql } from '@apollo/client';\r\nimport { TextField, Typography, Grid, Box } from '@mui/material';\r\nimport BookListItem from '../components/BookListItem';\r\nimport ReadingListItem from '../components/ReadingListItem';\r\n\r\nconst GET_BOOKS = gql`\r\n  query Books {\r\n    books {\r\n      author\r\n      coverPhotoURL\r\n      title\r\n    }\r\n  }\r\n`;\r\n\r\nconst BookAssignment = () => {\r\n  const { loading, error, data } = useQuery(GET_BOOKS);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [readingList, setReadingList] = useState([]);\r\n\r\n  if (loading) return <p>Loading...</p>;\r\n  if (error) return <p>Error :(</p>;\r\n\r\n  const handleAddBook = (book) => {\r\n    setReadingList([...readingList, book]);\r\n  };\r\n\r\n  const handleRemoveBook = (title) => {\r\n    setReadingList(readingList.filter(book => book.title !== title));\r\n  };\r\n\r\n  const filteredBooks = data.books.filter(book =>\r\n    book.title.toLowerCase().includes(searchTerm.toLowerCase())\r\n  );\r\n\r\n  return (\r\n    <Box>\r\n      <TextField\r\n        label=\"Search for books\"\r\n        variant=\"outlined\"\r\n        fullWidth\r\n        margin=\"normal\"\r\n        onChange={(e) => setSearchTerm(e.target.value)}\r\n      />\r\n      <Grid container spacing={2}>\r\n        {filteredBooks.map((book, index) => (\r\n          <Grid item xs={12} sm={6} md={3} key={index}>\r\n            <BookListItem\r\n              book={book}\r\n              onAdd={() => handleAddBook(book)}\r\n            />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n      <Typography variant=\"h5\" component=\"h2\" gutterBottom style={{ marginTop: '20px' }}>\r\n        Reading List\r\n      </Typography>\r\n      <Grid container spacing={2}>\r\n        {readingList.map((book, index) => (\r\n          <Grid item xs={12} sm={6} md={3} key={index}>\r\n            <ReadingListItem\r\n              book={book}\r\n              onRemove={() => handleRemoveBook(book.title)}\r\n            />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default BookAssignment;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}